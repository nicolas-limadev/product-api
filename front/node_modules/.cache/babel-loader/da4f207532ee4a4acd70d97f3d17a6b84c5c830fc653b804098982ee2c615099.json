{"ast":null,"code":"import _toConsumableArray from\"/home/nicolas/SpringAPI-React/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/home/nicolas/SpringAPI-React/front/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/nicolas/SpringAPI-React/front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/nicolas/SpringAPI-React/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import'./App.css';import Form from'./Form';import Table from'./Table';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// Object product\nvar produto={code:0,name:'',marca:''};// UseState\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),btnCadastrar=_useState2[0],setBtnCadastrar=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),produtos=_useState4[0],setProdutos=_useState4[1];var _useState5=useState(produto),_useState6=_slicedToArray(_useState5,2),objProduto=_useState6[0],setObjProduto=_useState6[1];// UseEffect\nuseEffect(function(){fetch(\"http://ec2-3-89-73-24.compute-1.amazonaws.com/listar\").then(function(retorno){return retorno.json();}).then(function(retorno_converted){return setProdutos(retorno_converted);});},[]);// Obtendo os dados do formulário\nvar aoDigitar=function aoDigitar(e){setObjProduto(_objectSpread(_objectSpread({},objProduto),{},_defineProperty({},e.target.name,e.target.value)));};// Cadastrar produto\nvar cadastrar=function cadastrar(){fetch('http://ec2-3-89-73-24.compute-1.amazonaws.com/cadastrar',{method:'post',body:JSON.stringify(objProduto),headers:{'Content-type':'application/json','Accept':'application/json'}}).then(function(retorno){return retorno.json();}).then(function(retorno_converted){if(retorno_converted.message!==undefined){alert(retorno_converted.message);}else{setProdutos([].concat(_toConsumableArray(produtos),[retorno_converted]));alert('Produto cadastrado com sucesso!');limparFormulario();}});};// Alterar produto\nvar alterar=function alterar(){fetch('http://ec2-3-89-73-24.compute-1.amazonaws.com/alterar',{method:'put',body:JSON.stringify(objProduto),headers:{'Content-type':'application/json','Accept':'application/json'}}).then(function(retorno){return retorno.json();}).then(function(retorno_converted){if(retorno_converted.message!==undefined){alert(retorno_converted.message);}else{alert('Produto alterado com sucesso!');// Cópia do vetor de produtos\nvar vetorTemp=_toConsumableArray(produtos);// Indice\nvar indice=vetorTemp.findIndex(function(p){return p.code===objProduto.code;});// Alterar produto do vetorTemp\nvetorTemp[indice]=objProduto;// Atualizar o vetor de produtos\nsetProdutos(vetorTemp);limparFormulario();}});};// Remover produto\nvar remover=function remover(){fetch('http://ec2-3-89-73-24.compute-1.amazonaws.com/remover/'+objProduto.code,{method:'delete',headers:{'Content-type':'application/json','Accept':'application/json'}}).then(function(retorno){return retorno.json();}).then(function(retorno_converted){// Mensagem\nalert(retorno_converted.message);// Cópia do vetor de produtos\nvar vetorTemp=_toConsumableArray(produtos);// Indice\nvar indice=vetorTemp.findIndex(function(p){return p.code===objProduto.code;});// Remover produto do vetorTemp\nvetorTemp.splice(indice,1);// Atualizar o vetor de produtos\nsetProdutos(vetorTemp);// Limpar formulário\nlimparFormulario();});};// Limpar formulário\nvar limparFormulario=function limparFormulario(){setObjProduto(produto);setBtnCadastrar(true);};// Selecionar produto\nvar selecionarProduto=function selecionarProduto(indice){setObjProduto(produtos[indice]);setBtnCadastrar(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Form,{botao:btnCadastrar,eventoTeclado:aoDigitar,cadastrar:cadastrar,obj:objProduto,cancelar:limparFormulario,remover:remover,alterar:alterar}),/*#__PURE__*/_jsx(Table,{vetor:produtos,selecionar:selecionarProduto})]});}export default App;","map":{"version":3,"names":["useEffect","useState","Form","Table","jsx","_jsx","jsxs","_jsxs","App","produto","code","name","marca","_useState","_useState2","_slicedToArray","btnCadastrar","setBtnCadastrar","_useState3","_useState4","produtos","setProdutos","_useState5","_useState6","objProduto","setObjProduto","fetch","then","retorno","json","retorno_converted","aoDigitar","e","_objectSpread","_defineProperty","target","value","cadastrar","method","body","JSON","stringify","headers","message","undefined","alert","concat","_toConsumableArray","limparFormulario","alterar","vetorTemp","indice","findIndex","p","remover","splice","selecionarProduto","children","botao","eventoTeclado","obj","cancelar","vetor","selecionar"],"sources":["/home/nicolas/SpringAPI-React/front/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport './App.css';\nimport Form from './Form';\nimport Table from './Table';\n\nfunction App() {\n\n\n  // Object product\n  const produto = {\n    code: 0,\n    name: '',\n    marca: ''\n  }\n\n  // UseState\n  const [btnCadastrar, setBtnCadastrar] = useState(true);\n  const [produtos, setProdutos] = useState([]);\n  const [objProduto, setObjProduto] = useState(produto);\n\n  // UseEffect\n  useEffect(() => {\n    fetch(\"http://ec2-3-89-73-24.compute-1.amazonaws.com/listar\")\n      .then(retorno => retorno.json())\n      .then(retorno_converted => setProdutos(retorno_converted));\n  }, []);\n\n  // Obtendo os dados do formulário\n  const aoDigitar = (e) => {\n    setObjProduto({ ...objProduto, [e.target.name]: e.target.value })\n  }\n  // Cadastrar produto\n  const cadastrar = () => {\n    fetch('http://ec2-3-89-73-24.compute-1.amazonaws.com/cadastrar', {\n      method: 'post',\n      body: JSON.stringify(objProduto),\n      headers: {\n        'Content-type': 'application/json',\n        'Accept': 'application/json'\n      }\n    })\n      .then(retorno => retorno.json())\n      .then(retorno_converted => {\n        if (retorno_converted.message !== undefined) {\n          alert(retorno_converted.message);\n        } else {\n          setProdutos([...produtos, retorno_converted])\n          alert('Produto cadastrado com sucesso!');\n          limparFormulario();\n        }\n      })\n  }\n\n  // Alterar produto\n  const alterar = () => {\n    fetch('http://ec2-3-89-73-24.compute-1.amazonaws.com/alterar', {\n      method: 'put',\n      body: JSON.stringify(objProduto),\n      headers: {\n        'Content-type': 'application/json',\n        'Accept': 'application/json'\n      }\n    })\n      .then(retorno => retorno.json())\n      .then(retorno_converted => {\n        if (retorno_converted.message !== undefined) {\n          alert(retorno_converted.message);\n\n        } else {\n\n          alert('Produto alterado com sucesso!');\n\n          // Cópia do vetor de produtos\n          let vetorTemp = [...produtos];\n\n          // Indice\n          let indice = vetorTemp.findIndex((p) => {\n            return p.code === objProduto.code;\n          });\n\n          // Alterar produto do vetorTemp\n          vetorTemp[indice] = objProduto;\n\n          // Atualizar o vetor de produtos\n          setProdutos(vetorTemp);\n\n          limparFormulario();\n        }\n      })\n  }\n\n  // Remover produto\n  const remover = () => {\n    fetch('http://ec2-3-89-73-24.compute-1.amazonaws.com/remover/' + objProduto.code, {\n      method: 'delete',\n      headers: {\n        'Content-type': 'application/json',\n        'Accept': 'application/json'\n      }\n    })\n      .then(retorno => retorno.json())\n      .then(retorno_converted => {\n\n        // Mensagem\n        alert(retorno_converted.message);\n\n        // Cópia do vetor de produtos\n        let vetorTemp = [...produtos];\n\n        // Indice\n        let indice = vetorTemp.findIndex((p) => {\n          return p.code === objProduto.code;\n        });\n\n        // Remover produto do vetorTemp\n        vetorTemp.splice(indice, 1);\n\n        // Atualizar o vetor de produtos\n        setProdutos(vetorTemp);\n\n        // Limpar formulário\n        limparFormulario();\n\n      })\n  }\n\n  // Limpar formulário\n  const limparFormulario = () => {\n    setObjProduto(produto);\n    setBtnCadastrar(true);\n  }\n\n\n  // Selecionar produto\n  const selecionarProduto = (indice) => {\n    setObjProduto(produtos[indice]);\n    setBtnCadastrar(false);\n  }\n\n  return (\n    <div>\n      <Form botao={btnCadastrar} eventoTeclado={aoDigitar} cadastrar={cadastrar} obj={objProduto} cancelar={limparFormulario} remover={remover} alterar={alterar} />\n\n      <Table vetor={produtos} selecionar={selecionarProduto} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}